<!DOCTYPE html>
<meta charset="utf-8">
<style>
    path {
      stroke: white;
      stroke-width: 0.25px;
      fill: grey;
    }
    </style>

<body>
<!-- Load d3.js -->
<script src="https://d3js.org/d3.v4.js"></script>
<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
<script src="https://d3js.org/d3-geo-projection.v2.min.js"></script>
<script src="https://d3js.org/topojson.v0.min.js"></script>

<!-- Create an element where the map will take place -->
<svg id="my_dataviz" width="960" height="540"></svg>

<script>

    // The svg
    var svg = d3.select("svg"),
        width = +svg.attr("width"),
        height = +svg.attr("height");
    
    // Map and projection
var projection = d3.geoMercator()
    .center([0, 5 ])
    .scale(175)
    .rotate([-180,0]);
    
    // A path generator
    var path = d3.geoPath()
        .projection(projection)
    
        var g = svg.append("g");

    // load and display the World
d3.json("https://raw.githubusercontent.com/richarhila/map/master/world-110m2.json", function(error, topology) {

// load and display the cities
d3.csv("https://raw.githubusercontent.com/richarhila/map/master/cities.csv", function(error, data) {
    g.selectAll("circle")
       .data(data)
       .enter()
       .append("a")
				  .attr("xlink:href", function(d) {
					  return "https://www.google.com/search?q="+d.city;}
				  )
       .append("circle")
       .attr("cx", function(d) {
               return projection([d.lon, d.lat])[0];
       })
       .attr("cy", function(d) {
               return projection([d.lon, d.lat])[1];
       })
       .attr("r", 5)
       .style("fill", "red");
});


g.selectAll("path")
      .data(topojson.object(topology, topology.objects.countries)
          .geometries)
    .enter()
      .append("path")
      .attr("d", path)
});

    
</script>
</body>
</html>